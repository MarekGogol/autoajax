!function(e){var t={};function r(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";r.r(t);var a=r(2).default;window.autoAjax=a,t.default=a},function(module,__webpack_exports__,__webpack_require__){"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}__webpack_require__.r(__webpack_exports__);var autoAjax={options:{autoReset:!1,validationInputErrors:!0,validationMessage:!0,messages:{error:"Something went wrong, please try again later.",validation:"Please fill all required fields."},events:{submit:function(e){},success:function(e,t,r){},error:function(e,t,r){},validation:function(e,t,r){}},globalEvents:{success:function success(data,response,form){var canResetForm=form.hasClass("autoReset")||!0===autoAjax.core.getFormOptions(form).autoReset;if(canResetForm&&!("error"in response)){var resetItems=form.find("input, select, textarea").not('input[name="_token"], input[type="submit"], input[type="checkbox"], input[type="hidden"]').val("");resetItems=resetItems.add(form.find('input[type="checkbox"]').each((function(){this.checked=!1}))),autoAjax.core.triggerChangeEvent(resetItems)}if("object"==_typeof(data)){if("error"in data||"message"in data||"callback"in data)return"modal"==data.type?autoAjax.core.showModal(data):(autoAjax.core.setMessage(form,data.message,"message"in data?"success":"error"),"callback"in data&&eval(data.callback)),!0;if("redirect"in data){if(data.redirect==window.location.href)return window.location.reload();window.location.href=data.redirect}}},error:function(e,t,r){var a=t.responseJSON;autoAjax.core.setMessage(r,a&&a.message||autoAjax.options.messages.error,"error")},validation:function(e,t,r){var a=t.responseJSON,o=autoAjax.core.getFormOptions(r);if(422==t.status){if("errors"in a&&!("length"in a.errors)&&(a=a.errors),!0===o.validationInputErrors)for(var n in a){var s=$.isArray(a[n])?a[n][0]:a[n];r.find('input[name="'+n+'"], select[name="'+n+'"], textarea[name="'+n+'"]').after('<span class="help-block error">'+s+"</span>").first().parent().addClass("has-error").keyup((function(e){13!=e.keyCode&&($(this).removeClass("has-error"),$(this).find("span.error.help-block").remove())}))}!0!==o.validationMessage||r.hasClass("noValidationMessage")||autoAjax.core.setMessage(r,autoAjax.options.messages.validation,"error")}}}},core:{getFormOptions:function(e){return e[0].autoAjaxOptions||{}},mergeOptions:function(e,t){for(var r in t)if("object"===_typeof(t[r]))for(var a in t[r]){if(!(r in e)){e[r]=t[r];break}e[r][a]=t[r][a]}else e[r]=t[r];return e},bindRow:function(e){if(t=e||$(this).attr("data-row")){var t=e||$.parseJSON(t);for(key in t){var r=$(this).find('*[name="'+key+'"]');(t[key]&&0!=t[key].length||!1===t[key]||0===t[key])&&autoAjax.core.bindValue($(this),r,key,t[key])}}},triggerChangeEvent:function(e){e.each((function(){$(this).change().trigger("chosen:updated"),this.dispatchEvent(new Event("input",{bubbles:!0})),this.dispatchEvent(new Event("change",{bubbles:!0}))}))},bindValue:function(e,t,r,a){t.is("input:file")||(t.is("input:radio")||t.is("input:checkbox")?(!0===a?a=1:!1===a&&(a=0),(t=e.find('*[name="'+r+'"][value="'+a+'"]')).prop("checked",!0)):(!0===a?a=1:!1===a&&(a=0),t.val(a)),autoAjax.core.triggerChangeEvent(t))},bindDatepickers:function(){"datepicker"in jQuery.fn&&$(this).find(".js_date").datepicker({autoclose:!0,format:"dd.mm.yyyy",language:"sk"})},resetErrors:function(e){e.find(".message, .alert").html("").hide(),e.find("span.error.help-block").remove(),e.find(".has-error").removeClass("has-error"),e.find("input.error, select.error, textarea.error").removeClass("error")},setMessage:function(e,t,r){e.parent().find(".alert").removeClass("alert-danger alert-success").addClass("error"==r?"alert-danger":"alert-success").html(t).show()},showModal:function(e){modal.show(e)},fireEventsOn:function(e,t){for(var r=0;r<e.length;r++)e[r]&&e[r].apply(e,_toConsumableArray(t))},ajaxResponse:function(e,t){var r=t.prop("autoAjaxOptions"),a=[e.responseJSON||e.responseText,e,t];r.status="ready",200==e.status?this.fireEventsOn([r.events.success,r.events.onSuccess,r.globalEvents.success],a):422==e.status||403==e.status?this.fireEventsOn([r.events.validation,r.events.onValidation,r.globalEvents.validation],a):this.fireEventsOn([r.events.error,r.events.onError,r.globalEvents.error],a)}},install:function(e,t){e.directive("autoAjax",{bind:function(e,t,r){var a=t.value||{},o=r.data.on||{},n=autoAjax.core.mergeOptions({events:{submit:o.submit||o.onSubmit,success:o.success||o.onSuccess,error:o.error||o.onError,validation:o.validation||o.onValidation}},a);$(e).autoAjax(n)},update:function(e,t,r){e.autoAjaxOptions=autoAjax.core.mergeOptions(e.autoAjaxOptions,t.value||{})}}),e.directive("autoReset",{bind:function(e,t,r){e.autoAjaxOptions.autoReset=!0}})}};$.fn.autoAjax=function(e){return $(this).each((function(){this.autoAjaxOptions||(this.autoAjaxOptions=Object.assign(autoAjax.core.mergeOptions(autoAjax.options,e),{status:"ready"}),autoAjax.core.bindRow.call(this),autoAjax.core.bindDatepickers.call(this),$(this).submit((function(){if("sending"===this.autoAjaxOptions.status)return!1;var e=$(this);return this.autoAjaxOptions.status="sending",autoAjax.core.fireEventsOn([this.autoAjaxOptions.events.submit,this.autoAjaxOptions.events.onSubmit],[e]),autoAjax.core.resetErrors(e),e.ajaxSubmit({url:e.attr("data-action"),success:function(t,r,a){return autoAjax.core.ajaxResponse(a,e)},error:function(t){return autoAjax.core.ajaxResponse(t,e)}}),!1})))}))},__webpack_exports__.default=autoAjax}]);